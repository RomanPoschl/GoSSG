<div>
	<div class="mb-6">
		<!-- Breadcrumb navigation to go back to the project dashboard -->
		<a href="#" hx-get="/api/ui/project/{{.ProjectName}}" hx-target="#main-content"
			class="text-sm text-blue-600 hover:underline">
			&larr; Back to {{.ProjectName}}
		</a>
		<h2 class="text-3xl font-bold mt-1">
			{{ if .IsNew }}New Article{{ else }}Editing: <span
				class="text-green-600 font-mono">{{.Article.FilePath}}</span>{{ end }}
		</h2>
	</div>

	<!-- The form for saving the content -->
	<form hx-post="/api/ui/save-article/{{.ProjectName}}" hx-target="#toast-container" hx-swap="beforeend">

		<!-- Hidden input to track the original file path for renames -->
		<input type="hidden" name="originalFilePath" value="{{.Article.FilePath}}">

		<div>
			<label for="title" class="block text-sm font-medium text-gray-700">Title</label>
			<input type="text" name="title" id="title" value="{{.Article.FrontMatter.Title}}"
				class="mt-1 block w-full p-2 border">
		</div>

		<!-- Textarea for the content -->
		<div>
			<textarea name="content" id="editor"
				class="w-full h-96 p-4 font-mono text-sm border-0 rounded-t-lg focus:ring-2 focus:ring-blue-500">
				{{.FileContent}}
			</textarea>
		</div>

		<!-- The footer with the save button -->
		<div class="bg-gray-50 p-4 border-t border-gray-200 rounded-b-lg flex justify-end">
			<button type="submit"
				class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-md">
				Save Changes
			</button>
		</div>

		<script>
			const easyMDE = new EasyMDE({element: document.getElementById('editor')});
		</script>
	</form>
</div>
